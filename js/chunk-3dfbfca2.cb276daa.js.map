{"version":3,"sources":["webpack:///./src/views/my/shouji.png","webpack:///./src/views/my/index.vue?8a58","webpack:///./src/views/my/index.vue?6646","webpack:///src/views/my/index.vue","webpack:///./src/views/my/index.vue?cec4","webpack:///./src/views/my/index.vue","webpack:///./src/api/user.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","_s","currentUser","name","proxy","photo","slot","art_count","follow_count","fans_count","like_count","on","$event","$router","push","onLogout","_e","staticRenderFns","data","computed","created","loadCurrentUser","methods","title","message","component","login","user","request","method","url","sendSms","mobile","getCurrentUser","getUserProfile","updateUserProfile","updateUserPhoto","getUserChannels","addFollow","target","cancelFollow"],"mappings":"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","file":"js/chunk-3dfbfca2.cb276daa.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=25573f55&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-container\"},[(_vm.user)?_c('van-cell-group',{staticClass:\"my-info\"},[_c('van-cell',{staticClass:\"base-info\",attrs:{\"border\":false,\"center\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.currentUser.name))])]},proxy:true}],null,false,2237064268)},[_c('van-image',{staticClass:\"avatar\",attrs:{\"slot\":\"icon\",\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.currentUser.photo},slot:\"icon\"}),_c('van-button',{staticClass:\"update-btn\",attrs:{\"size\":\"small\",\"round\":\"\",\"to\":{name:'userProfile'}}},[_vm._v(\"编辑资料\")])],1),_c('van-grid',{staticClass:\"data-info\",attrs:{\"border\":false}},[_c('van-grid-item',{staticClass:\"data-info-item\",scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.currentUser.art_count))]),_c('div',{staticClass:\"text\"},[_vm._v(\"头条\")])]},proxy:true}],null,false,2732373231)}),_c('van-grid-item',{staticClass:\"data-info-item\",scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.currentUser.follow_count))]),_c('div',{staticClass:\"text\"},[_vm._v(\"关注\")])]},proxy:true}],null,false,1884464375)}),_c('van-grid-item',{staticClass:\"data-info-item\",scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.currentUser.fans_count))]),_c('div',{staticClass:\"text\"},[_vm._v(\"粉丝\")])]},proxy:true}],null,false,1258104595)}),_c('van-grid-item',{staticClass:\"data-info-item\",scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.currentUser.like_count))]),_c('div',{staticClass:\"text\"},[_vm._v(\"获赞\")])]},proxy:true}],null,false,2277097439)})],1)],1):_c('div',{staticClass:\"not-login\",on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_c('div',[_c('img',{staticClass:\"mobile\",attrs:{\"src\":require(\"./shouji.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"text\"},[_vm._v(\"登录 / 注册\")])])]),_c('van-grid',{staticClass:\"nav-grid mb-10\",attrs:{\"column-num\":2}},[_c('van-grid-item',{staticClass:\"nav-grid-item\",attrs:{\"icon-prefix\":\"toutiao\",\"icon\":\"shoucang\",\"text\":\"收藏\"}}),_c('van-grid-item',{staticClass:\"nav-grid-item\",attrs:{\"icon-prefix\":\"toutiao\",\"icon\":\"lishi\",\"text\":\"历史\"}})],1),_c('van-cell',{attrs:{\"title\":\"消息通知\",\"is-link\":\"\",\"to\":\"/vant/mobile.html\"}}),_c('van-cell',{staticClass:\"mb-10\",attrs:{\"title\":\"小智同学\",\"is-link\":\"\",\"to\":{name:'userChat'}}}),(_vm.user)?_c('van-button',{staticClass:\"logout\",attrs:{\"type\":\"default\",\"block\":\"\"},on:{\"click\":_vm.onLogout}},[_vm._v(\"退出登录\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-container\">\n    <van-cell-group class=\"my-info\" v-if=\"user\">\n      <van-cell class=\"base-info\" :border=\"false\" center>\n        <van-image\n          class=\"avatar\"\n          slot=\"icon\"\n          round\n          fit=\"cover\"\n          :src=\"currentUser.photo\">\n        </van-image>\n        <template #title>\n          <div class=\"name\">{{ currentUser.name }}</div>\n        </template>\n        <van-button size=\"small\" round class=\"update-btn\" :to=\"{name:'userProfile'}\">编辑资料</van-button>\n      </van-cell>\n      <van-grid :border=\"false\" class=\"data-info\">\n        <van-grid-item class=\"data-info-item\">\n          <template #text>\n            <div class=\"count\">{{ currentUser.art_count }}</div>\n            <div class=\"text\">头条</div>\n          </template>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <template #text>\n            <div class=\"count\">{{ currentUser.follow_count }}</div>\n            <div class=\"text\">关注</div>\n          </template>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <template #text>\n            <div class=\"count\">{{ currentUser.fans_count }}</div>\n            <div class=\"text\">粉丝</div>\n          </template>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <template #text>\n            <div class=\"count\">{{ currentUser.like_count }}</div>\n            <div class=\"text\">获赞</div>\n          </template>\n        </van-grid-item>\n      </van-grid>\n    </van-cell-group>\n    <div v-else class=\"not-login\" @click=\"$router.push('/login')\">\n      <div>\n        <img class=\"mobile\" src=\"./shouji.png\" alt=\"\">\n        <div class=\"text\">登录 / 注册</div>\n      </div>\n    </div>\n    <van-grid :column-num=\"2\" class=\"nav-grid mb-10\">\n      <van-grid-item class=\"nav-grid-item\" icon-prefix=\"toutiao\" icon=\"shoucang\" text=\"收藏\"/>\n      <van-grid-item class=\"nav-grid-item\" icon-prefix=\"toutiao\" icon=\"lishi\" text=\"历史\"/>\n    </van-grid>\n    <van-cell title=\"消息通知\" is-link to=\"/vant/mobile.html\"/>\n    <van-cell class=\"mb-10\" title=\"小智同学\" is-link :to=\"{name:'userChat'}\"/>\n    <van-button type=\"default\" block class=\"logout\" v-if=\"user\" @click=\"onLogout\">退出登录</van-button>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { Dialog } from 'vant'\nimport { getCurrentUser } from '@/api/user'\n\nexport default {\n  name: 'MyIndex',\n  data () {\n    return {\n      currentUser: {}\n    }\n  },\n  computed: {\n    // 自动执行，时刻监听user属性的变化\n    ...mapState(['user'])\n  },\n  created () {\n    this.loadCurrentUser()\n  },\n  methods: {\n    onLogout () {\n      // 提示用户确认退出\n      Dialog.confirm({\n        title: '确认退出吗？',\n        message: '退出后将无法点赞文章，关注博主'\n      }).then(() => {\n        // 确认退出\n        this.$store.commit('removeUser')\n      }).catch(() => {\n      })\n    },\n    async loadCurrentUser () {\n      const res = await getCurrentUser()\n      this.currentUser = res.data.data\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.my-container {\n  .my-info {\n    background: url(\"./banner.png\") no-repeat;\n    background-size: cover;\n  }\n\n  .base-info {\n    box-sizing: border-box;\n    height: 115px;\n    padding-top: 38px;\n    padding-bottom: 11px;\n    background-color: unset;\n\n    .avatar {\n      box-sizing: border-box;\n      width: 66px;\n      height: 66px;\n      border: 1px solid white;\n      margin-right: 11px;\n    }\n\n    .name {\n      color: #fff;\n      font-size: 15px;\n    }\n\n    .update-btn {\n      height: 30px;\n      font-size: 12px;\n      color: #666;\n    }\n  }\n\n  .data-info {\n    .data-info-item {\n      height: 65px;\n      color: #fff;\n\n      .count {\n        font-size: 18px;\n      }\n\n      .text {\n        font-size: 12px;\n      }\n    }\n  }\n\n  .nav-grid {\n    background: white;\n\n    .nav-grid-item {\n      height: 70px;\n\n      /deep/ .toutiao {\n        font-size: 23px;\n      }\n\n      /deep/ .toutiao-shoucang {\n        color: #eb5253;\n      }\n\n      /deep/ .toutiao-lishi {\n        color: #ff9d1d;\n      }\n\n      /deep/ .van-grid-item__text {\n        font-size: 14px;\n        color: #333;\n      }\n    }\n  }\n\n  .logout {\n    color: #d86262;\n  }\n\n  .not-login {\n    height: 180px;\n    background: url(\"./banner.png\") no-repeat;\n    background-size: cover;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    .mobile {\n      width: 66px;\n      height: 66px;\n      margin-bottom: 10px;\n    }\n\n    .text {\n      color: #fff;\n      font-size: 14px;\n    }\n  }\n\n  .mb-10 {\n    margin-bottom: 10px;\n  }\n\n  // 样式穿透\n  // 这是因为在组件的样式作用域中，给子组件设置样式，默认只能作用到子组件的根节点\n  // 而使用样式穿透就可以作用得更深层次，找到子组件对应的类名并应用样式\n  /deep/ .van-grid-item__content {\n    background-color: unset;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=25573f55&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=25573f55&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25573f55\",\n  null\n  \n)\n\nexport default component.exports","// 用户相关的请求模块\nimport { request } from '@/utils/request'\n\n// 登录注册\nconst login = (user) => {\n  return request({\n    method: 'POST',\n    url: '/v1_0/authorizations',\n    data: user\n  })\n}\n// 发送短信验证码\nconst sendSms = mobile => {\n  return request({\n    method: 'GET',\n    url: `/v1_0/sms/codes/${mobile}`\n  })\n}\n// 获取用户个人信息\nconst getCurrentUser = () => {\n  return request({\n    method: 'GET',\n    url: '/v1_0/user'\n  })\n}\n// 获取用户资料\nconst getUserProfile = () => {\n  return request({\n    method: 'GET',\n    url: '/v1_0/user/profile'\n  })\n}\n// 编辑用户资料\nconst updateUserProfile = (data) => {\n  return request({\n    method: 'PATCH',\n    url: '/v1_0/user/profile',\n    data\n  })\n}\n// 修改用户头像\nconst updateUserPhoto = (data) => {\n  return request({\n    method: 'PATCH',\n    url: '/v1_0/user/photo',\n    data\n  })\n}\n// 获取用户频道列表\nconst getUserChannels = () => {\n  return request({\n    method: 'GET',\n    url: '/v1_0/user/channels'\n  })\n}\n// 关注用户\nconst addFollow = (target) => {\n  return request({\n    method: 'POST',\n    url: '/v1_0/user/followings',\n    data: {\n      target\n    }\n  })\n}\n// 取消关注用户\nconst cancelFollow = (target) => {\n  return request({\n    method: 'DELETE',\n    url: `/v1_0/user/followings/${target}`\n  })\n}\nexport {\n  login,\n  sendSms,\n  getCurrentUser,\n  getUserChannels,\n  addFollow,\n  cancelFollow,\n  getUserProfile,\n  updateUserProfile,\n  updateUserPhoto\n}\n"],"sourceRoot":""}